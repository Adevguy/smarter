<link rel="stylesheet" href="/navbar.css">

<div class="navbar-extras">
    <!-- Hamburger (mobile only) -->
    <div class="hamburger" id="hamburger">
      <span></span><span></span><span></span>
    </div>

    <!-- Logo -->
    <div class="navbar-logo">
      <img src="/logo.png" alt="Logo" />
    </div>

    <!-- Navbar (desktop) -->
    <nav class="navbar">
      <div class="navbar-links" id="navbarLinks">
        <a href="/" class="navbar-link active">الرئيسية</a>
        <a href="/about" class="navbar-link">من نحن</a>
        <a href="/categories" class="navbar-link">المنتجات</a>
        <a href="#" class="navbar-link navbar-lin">خدماتنا</a>
        <a href="#" class="navbar-link navbar-lin">اعمالنا</a>
        <a href="#" class="navbar-link">تواصل معنا</a>
        <div class="navbar-indicator" id="navbarIndicator"></div>
      </div>
    </nav>

    <!-- Dropdown -->
    <div class="navbar-dropdown">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Flag_of_Saudi_Arabia.svg/48px-Flag_of_Saudi_Arabia.svg.png" alt="Flag" class="dropdown-img" />
      <select class="dropdown-select">
        <option>AR</option>
        <option>EN</option>
      </select>
    </div>
  </div>

  <!-- Sidebar (mobile) -->
  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <button class="close-btn" id="closeSidebar">&times;</button>
    </div>
    <div class="sidebar-links" id="sidebarLinks">
        <a href="/home" class="sidebar-link active">الرئيسية</a>
        <a href="/about" class="sidebar-link">من نحن</a>
        <a href="/categories" class="sidebar-link">المنتجات</a>
        <a href="#" class="sidebar-link navbar-lin">خدماتنا</a>
        <a href="#" class="sidebar-link navbar-lin">اعمالنا</a>
        <a href="#" class="sidebar-link">تواصل معنا</a>
      <div class="sidebar-indicator" id="sidebarIndicator"></div>
    </div>
  </div>

 
  <script>
    const links = document.querySelectorAll('.navbar-link');
    const indicator = document.getElementById('navbarIndicator');
    function moveIndicator(activeLink) {
      if (!indicator) return;
      const rect = activeLink.getBoundingClientRect();
      const parentRect = activeLink.parentElement.getBoundingClientRect();
      indicator.style.width = rect.width + 'px';
      indicator.style.left = (rect.left - parentRect.left) + 'px';
    }
    function setActive(link) {
      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
      moveIndicator(link);
    }
    links.forEach(link => link.addEventListener('click', () => setActive(link)));
    window.addEventListener('DOMContentLoaded', () => moveIndicator(document.querySelector('.navbar-link.active')));
    window.addEventListener('resize', () => moveIndicator(document.querySelector('.navbar-link.active')));

    // Sidebar Toggle
    const hamburger = document.getElementById('hamburger');
    const sidebar = document.getElementById('sidebar');
    const closeSidebar = document.getElementById('closeSidebar');
    hamburger.addEventListener('click', () => sidebar.classList.add('open'));
    closeSidebar.addEventListener('click', () => sidebar.classList.remove('open'));

    // Sidebar Indicator
    const sidebarLinks = document.querySelectorAll('.sidebar-link');
    const sidebarIndicator = document.getElementById('sidebarIndicator');
    function moveSidebarIndicator(activeLink) {
      if (!sidebarIndicator) return;
      const rect = activeLink.getBoundingClientRect();
      const parentRect = activeLink.parentElement.getBoundingClientRect();
      sidebarIndicator.style.width = rect.width + 'px';
      sidebarIndicator.style.top = (rect.top - parentRect.top) + 'px';
    }
    function setSidebarActive(link) {
      sidebarLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
      moveSidebarIndicator(link);
    }
    sidebarLinks.forEach(link => link.addEventListener('click', () => setSidebarActive(link)));
    window.addEventListener('DOMContentLoaded', () => moveSidebarIndicator(document.querySelector('.sidebar-link.active')));
    window.addEventListener('resize', () => moveSidebarIndicator(document.querySelector('.sidebar-link.active')));
  

  </script>